<div class="container">
	<form class="form" #userForm="ngForm">

		<h1>Editar usuario</h1>
		
		<input matInput  [(ngModel)]="user.id" name="id" #id="ngModel" hidden>
	
		<div class="username">
			<label for="username">Nombre de usuario</label>
			<input type="text" class="form-control" id="username" name="username"
			required minlength="4" maxlength="16" 
			[(ngModel)]="user.username"  #username="ngModel">
	
			<div *ngIf="username.invalid && (username.dirty || username.touched)" class="alert alert-danger">
				<div *ngIf="username.errors?.['required']">
					Es necesario introducir su nombre de usuario
				</div>
				<div *ngIf="username.errors?.['minlength']">
					Su nombre de usuario debe tener mínimo 4 caracteres
				</div>
				<div *ngIf="username.errors?.['maxlength']">
					Su nombre de usuario debe tener máximo 16 caracteres
				</div>
			</div>
		</div>
	
		<div class="password">
			<label for="password">Contraseña</label>
			<input type="text" class="form-control" id="password" name="password"
			required minlength="6"
			[(ngModel)]="user.password" #password="ngModel">
	
			<div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">
				<div *ngIf="password.errors?.['required']">
					Es necesario introducir una contraseña
				</div>
				<div *ngIf="password.errors?.['minlength']">
					Su contraseña debe tener mínimo 6 caracteres
				</div>
			</div>
		</div>
		
		<div class="first_name">
			<label for="first_name">Nombre</label>
			<input type="text" class="form-control" id="first_name" name="first_name"
			required minlength="4" maxlength="16" 
			[(ngModel)]="user.first_name" #first_name="ngModel">
	
			<div *ngIf="first_name.invalid && (first_name.dirty || first_name.touched)" class="alert alert-danger">
				<div *ngIf="first_name.errors?.['required']">
					Es necesario introducir su nombre
				</div>
				<div *ngIf="first_name.errors?.['minlength']">
					Su nombre debe tener mínimo 4 caracteres
				</div>
				<div *ngIf="first_name.errors?.['maxlength']">
					Su nombre debe tener máximo 16 caracteres
				</div>
			</div>
		</div>
	
		<div class="last_name">
			<label for="last_name">Apellidos</label>
			<input type="text" class="form-control" id="last_name" name="last_name"
			required minlength="4" maxlength="32" 
			[(ngModel)]="user.last_name" #last_name="ngModel">
	
			<div *ngIf="last_name.invalid && (last_name.dirty || last_name.touched)" class="alert alert-danger">
				<div *ngIf="last_name.errors?.['required']">
					Es necesario introducir sus apellidos
				</div>
				<div *ngIf="last_name.errors?.['minlength']">
					Sus apellidos deben tener mínimo 4 caracteres
				</div>
				<div *ngIf="last_name.errors?.['maxlength']">
					Sus apellidos deben tener máximo 32 caracteres
				</div>
			</div>
		</div>
		
		<div class="email">
			<label for="email">Email</label>
			<input type="text" class="form-control" id="email" name="email"
			required  email="true"
			[(ngModel)]="user.email" #email="ngModel">
	
			<div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
				<div *ngIf="email.errors?.['required']">
					Es necesario introducir un correo electrónico
				</div>
				<div *ngIf="email.errors?.['email']">
					Debe introducir un correo electrónico
				</div>
			</div>
		</div>
	
		<div class="phone">
			<label for="phone">Teléfono</label>
			<input type="text" class="form-control" id="phone" name="phone"
			required minlength="9" maxlength="9" pattern="[0-9]+"
			[(ngModel)]="user.phone" #phone="ngModel">
	
			<div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="alert alert-danger">
				<div *ngIf="phone.errors?.['required']">
					Es necesario introducir un número de teléfono
				</div>
				<div *ngIf="phone.errors?.['minlength']">
					Debe introducir un número de teléfono español (Ej. 678912345)
				</div>
				<div *ngIf="phone.errors?.['pattern']">
					Debe introducir un número de teléfono correcto
				</div>
			</div>
		</div>
		
		<!-- <div class="image">
			<label for="image">Imagen</label>
			  <input type="text" class="form-control" id="image" required [(ngModel)]="user.image" name="image">
		</div>

		<div class="billing_address">
			<label for="billing_address">Dirección de facturación</label>
			<input type="text" class="form-control" id="billing_address" name="billing_address"
			required maxlength="255"
			[(ngModel)]="user.billing_address" #billing_address="ngModel">
	
			<div *ngIf="billing_address.invalid && (billing_address.dirty || billing_address.touched)" class="alert alert-danger">
				<div *ngIf="billing_address.errors?.['required']">
					Es necesario introducir una dirección de facturación
				</div>
			</div>
		</div> -->

		<div class="shipping_address">
			<label for="shipping_address">Dirección de envío</label>
			<input type="text" class="form-control" id="shipping_address" name="shipping_address"
			required maxlength="255"
			[(ngModel)]="user.shipping_address" #shipping_address="ngModel">
	
			<div *ngIf="shipping_address.invalid && (shipping_address.dirty || shipping_address.touched)" class="alert alert-danger">
				<div *ngIf="shipping_address.errors?.['required']">
					Es necesario introducir una dirección de envío
				</div>
			</div>
		</div>
	
		<div class="buttons-container">
			<button mat-raised-button color="primary" class="m-btn-primary" type="submit" (click)="putUser(userForm)">Aceptar</button>
			<button mat-raised-button color="primary" class="m-btn-primary-c" [routerLink]="['/usuario', user?.id]">Cancelar</button>
		</div>
	
	</form>
</div>